{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Navbar.js","hooks/useLogout.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Navbar","logout","useState","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","a","signOut","message","useLogout","className","styles","navbar","title","displayName","onClick","to","initialState","document","success","firestoreReducer","useFirestore","collection","response","ref","dispatchIfNotCancelled","addDocument","doc","createdAt","fromDate","Date","add","addedDocument","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","handleSubmit","e","preventDefault","onSubmit","required","onChange","target","htmlytype","disabled","TransactionList","transactions","map","transaction","Home","_query","_orderBy","documents","setDocuments","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","login","signInWithEmailAndPassword","res","useLogin","Signup","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c957977.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyColmC05Gaj6VoaTNhTuqwCMZyah8VokRw\",\n  authDomain: \"mymoney-8eb6c.firebaseapp.com\",\n  projectId: \"mymoney-8eb6c\",\n  storageBucket: \"mymoney-8eb6c.appspot.com\",\n  messagingSenderId: \"170928644546\",\n  appId: \"1:170928644546:web:b0d86832f9f4ce9130765b\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\n\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, timestamp };\n","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      return { ...state, user: action.payload };\n    case \"LOGOUT\":\n      return { ...state, user: null };\n    case \"AUTH_IS_READY\":\n      return { user: action.payload, authIsReady: true };\n    default:\n      return state;\n  }\n};\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false,\n  });\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: \"AUTH_IS_READY\", payload: user });\n      unsub();\n    });\n  }, []);\n  console.log(state);\n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuthContext must be inside an AuthContextProvider\");\n  }\n  return context;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport styles from \"./Navbar.module.css\";\n\nexport const Navbar = () => {\n  const { logout } = useLogout();\n  const { user } = useAuthContext();\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}>myMoney</li>\n        {user ? (\n          <>\n            <li>Hello, {user.displayName}</li>\n            <li>\n              <button onClick={logout} className=\"btn\">\n                Logout\n              </button>\n            </li>\n          </>\n        ) : (\n          <>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Sign Up</Link>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n    try {\n      await projectAuth.signOut();\n      dispatch({ type: \"LOGOUT\" });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (error) {\n      if (!isCancelled) {\n        setError(error.message);\n        setIsPending(false);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","import { useEffect, useReducer, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\";\n\nconst initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { ...initialState, isPending: true };\n    case \"ADDED_DOCUMENT\":\n      return {\n        ...initialState,\n        document: action.payload,\n        success: true,\n      };\n    case \"DELETED_DOCUMENT\":\n      return {\n        ...initialState,\n        success: true,\n      };\n    case \"ERROR\":\n      return {\n        ...initialState,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const ref = projectFirestore.collection(collection);\n\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  const addDocument = async (doc) => {\n    dispatch({ type: \"IS_PENDING\" });\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error.message });\n    }\n  };\n  const deleteDocument = async (id) => {\n    dispatch({ type: \"IS_PENDING\" });\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({\n        type: \"DELETED_DOCUMENT\",\n      });\n    } catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: \"Could not delete\" });\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, response };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\n\nexport const TransactionForm = ({ uid }) => {\n  const [name, setName] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const { addDocument, response } = useFirestore(\"transactions\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    addDocument({ name, amount, uid });\n  };\n\n  useEffect(() => {\n    if (response.success) {\n      setAmount(\"\");\n      setName(\"\");\n    }\n  }, [response.success]);\n  return (\n    <>\n      <h3>Add a Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Transaction Name</span>\n          <input\n            required\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Amount ($):</span>\n          <input\n            type=\"number\"\n            required\n            onChange={(e) => setAmount(e.target.value)}\n            value={amount}\n          />\n        </label>\n        <button htmlytype=\"submit\" disabled={response.isPending}>\n          Add transaction\n        </button>\n      </form>\n    </>\n  );\n};\n","import styles from \"./Home.module.css\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nexport const TransactionList = ({ transactions }) => {\n  const { deleteDocument } = useFirestore(\"transactions\");\n  return (\n    <ul className={styles.transactions}>\n      {transactions.map((transaction) => (\n        <li key={transaction.id}>\n          <p className={styles.name}>{transaction.name}</p>\n          <p className={styles.amount}>${transaction.amount}</p>\n          <button onClick={async () => deleteDocument(transaction.id)}>\n            x\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React from \"react\";\nimport styles from \"./Home.module.css\";\nimport { TransactionForm } from \"./TransactionForm\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { TransactionList } from \"./TransactionList\";\n\nexport const Home = () => {\n  const { user } = useAuthContext();\n  const { error, documents } = useCollection(\n    \"transactions\",\n    [\"uid\", \"==\", user.uid],\n    [\"createdAt\", \"desc\"]\n  );\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <TransactionList transactions={documents} />}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid} />\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState, useRef } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  const query = useRef(_query).current;\n  const orderBy = useRef(_orderBy).current;\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n\n    if (query) {\n      ref = ref.where(...query);\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy);\n    }\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          results.push({ ...doc.data(), id: doc.id });\n        });\n\n        setDocuments(results);\n        setError(null);\n      },\n      (error) => {\n        console.log(error);\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collection, query, orderBy]);\n\n  return { documents, error };\n};\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useLogin } from \"../../hooks/useLogin\";\nimport styles from \"./Login.module.css\";\n\nexport const Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { login, error, isPending } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n  return (\n    <form onSubmit={handleSubmit} className={styles[\"login-form\"]}>\n      <h2>Login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <button disabled={isPending} className=\"btn\">\n        {isPending ? \"Loading\" : \"Login\"}\n      </button>\n      {error && <p>{error}</p>}\n    </form>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n    try {\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n      dispatch({ type: \"LOGIN\", payload: res.user });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (error) {\n      if (!isCancelled) {\n        setError(error.message);\n        setIsPending(false);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, error, isPending };\n};\n","import React, { useState } from \"react\";\nimport { useSignup } from \"../../hooks/useSignup\";\nimport styles from \"./Signup.module.css\";\n\nexport const Signup = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName);\n  };\n  return (\n    <form onSubmit={handleSubmit} className={styles[\"signup-form\"]}>\n      <h2>Sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <button disabled={isPending} className=\"btn\">\n        {isPending ? \"loading\" : \"Sign up\"}\n      </button>\n      {error && <p>{error}</p>}\n    </form>\n  );\n};\n","import { useEffect, useState } from \"react\";\n\nimport { projectAuth } from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n\n      await res.user.updateProfile({ displayName });\n\n      dispatch({ type: \"LOGIN\", payload: { user: res.user } });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  });\n\n  return { error, isPending, signup };\n};\n","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Navbar } from \"./components/Navbar\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\nimport { Home } from \"./pages/home/Home\";\nimport { Login } from \"./pages/login/Login\";\nimport { Signup } from \"./pages/signup/Signup\";\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {user ? <Home /> : <Redirect to=\"/login\" />}\n            </Route>\n            <Route exact path=\"/login\">\n              {!user ? <Login /> : <Redirect to=\"/\" />}\n            </Route>\n            <Route exact path=\"/signup\">\n              {!user ? <Signup /> : <Redirect to=\"/\" />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}